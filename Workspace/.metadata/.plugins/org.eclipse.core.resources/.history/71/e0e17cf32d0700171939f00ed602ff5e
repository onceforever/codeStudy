import java.util.ArrayList;
import java.util.List;

public class Count3Quit1 {
	public static void main(String[] args) {
		String[] students = new String[]{"heyaunquan", "zhenghaoyue", "yujinshan", "kanglihong", "liuyunchao", "sushaohua", "lishiqi", "maoyushi", "hebaomin", "wanghuan", "wangmin"};
		System.out.println("/**************************************/\nall students are:");
		for(int i = 0; i < students.length; i++) {
			System.out.print(students[i] + "   ");
		}
		
		List<Student> studentGroup = new ArrayList<Student>();
		
		for(int i = 0; i < students.length; i++) {
			studentGroup.add(new Student(students[i], i + 1));
		}
		
		CountGroup countGroup = new CountGroup(studentGroup);
		countGroup.resetGame();
		countGroup.countAndQuit(3);
		Student leftStudent = countGroup.getLeftStudent();
		leftStudent = countGroup.getLeftStudent();
		System.out.println("/*************************************/\nthe name of the last student is :\n" + leftStudent.getname() + ", and ID is " + leftStudent.getID());
	}
}

class CountGroup {
	private List<Student> studentGroup;

	public CountGroup(List<Student> studentGroup) {
		this.studentGroup = studentGroup;
	}

	public void countAndQuit(int countNum) {
		System.out.println("\n\n\n\ncount " + countNum + " quit 1");
		
		int leftStudentNum = this.studentGroup.size();
		int counter = 0;
		
		for(int i = 0; i < this.studentGroup.size();) {
			if(1 == leftStudentNum) {
				return;
			}
			
			if(this.studentGroup.get(i).isStillInCount()) {
				counter++;
			}
			
			if(counter == countNum) {
				this.studentGroup.get(i).kickOut();
				leftStudentNum--;
				counter = 0;
			}
			
			i++;
			
			if(i == this.studentGroup.size()) {
				i = 0;
			}
		}
	}

	public Student getLeftStudent() {
		for (Student tempStudent : this.studentGroup) {
			if (tempStudent.isStillInCount() == true) {
				return tempStudent;
			}
		}
		
		return new Student("404 Not Found", 0);
	}
	
	public void resetGame() {
		for(int i = 0; i < this.studentGroup.size(); i++) {
			this.studentGroup.get(i).setInCount();
		}
	}
}







